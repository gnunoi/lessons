# **C++函数详解**  
**目标听众：编程初学者/有一定C++基础的学习者**  
**时长：约40分钟**

## **一、什么是函数？**

1. **定义**  
   - 函数是一段可重复调用的代码块，用于完成特定任务  
   - 类比：现实中的"工具"（如计算器中的加法功能）  

2. **为什么需要函数？**  
   - 代码复用（避免重复代码）  
   - 模块化编程（分解复杂问题）  
   - 提高可读性和维护性  

## **二、函数基本语法**

```cpp
返回类型 函数名(参数列表) {
    // 函数体
    return 返回值; // void类型可省略
}
```

### **示例1：简单加法函数**
```cpp
int add(int a, int b) {
    return a + b;
}
```

### **关键要素解析**
1. **返回类型**  
   - `int`/`double`/`void`等  
   - C++11引入`auto`自动推导（需谨慎使用）

2. **参数传递**  
   - 形参（定义时） vs 实参（调用时）  
   - 默认值参数（C++特性）  
```cpp
void greet(string name = "Guest") {
    cout << "Hello, " << name << "!";
}
```

3. **作用域规则**  
   - 局部变量 vs 全局变量  
   - 函数内部定义的变量在函数结束时销毁

## **三、函数声明与定义**
1. **分离式编程**  
   - 声明（头文件`.h`）：`int add(int a, int b);`  
   - 定义（源文件`.cpp`）：完整实现

2. **为什么需要分离？**  
   - 提高编译效率  
   - 促进代码复用  
   - 标准库的实现方式

## **四、参数传递方式**

### **1. 值传递（默认）**
```cpp
void swap(int a, int b) { ... } // 无法修改原值
```

### **2. 引用传递**
```cpp
void realSwap(int &a, int &b) { ... } // 修改原值
```

### **3. 指针传递**
```cpp
void pointerSwap(int *a, int *b) { ... } // 需处理地址
```

### **对比实验**
```cpp
int main() {
    int x = 5, y = 10;
    swap(x, y);       // 值不变
    realSwap(x, y);   // 值交换
    pointerSwap(&x, &y); // 值再次交换
}
```

## **五、函数重载（Overloading）**
1. **定义**  
   - 同名函数通过参数类型/数量不同实现不同功能  

2. **示例**
```cpp
// 处理int类型
void print(int num) { 
    cout << "Integer: " << num; 
}

// 处理double类型
void print(double num) {
    cout << "Double: " << num;
}
```

3. **注意事项**  
   - 不能仅通过返回类型重载  
   - 注意避免歧义调用

## **六、递归函数**
1. **原理**  
   - 函数直接/间接调用自身  
   - 必须包含终止条件

2. **经典案例：阶乘**
```cpp
int factorial(int n) {
    if(n <= 1) return 1;  // 终止条件
    return n * factorial(n-1);
}
```

3. **递归 vs 迭代**  
   - 内存消耗对比  
   - 适用场景分析

## **七、高级函数特性（简要介绍）**
1. 内联函数（`inline`）  
2. 函数模板（泛型编程）  
3. Lambda表达式（C++11）  
4. 函数指针

## **八、最佳实践**
1. 单一职责原则（一个函数只做一件事）  
2. 合理控制函数长度（建议不超过50行）  
3. 有意义的命名规范（动词开头，如`calculateAverage()`）  
4. 完善的注释说明
## **九、练习环节**
1. 编写判断质数的函数  
2. 实现字符串反转函数  
3. 创建计算数组平均值的函数

## **总结**
- 函数是结构化编程的核心  
- 掌握参数传递方式是关键  
- 良好的函数设计显著提升代码质量  
- "函数是程序员最好的朋友！"

**Q&A环节**  
**扩展阅读建议**：C++函数模板、STL算法函数
