% umint.sty (universal minted style)
\ProvidesPackage{umint}
\RequirePackage{universe}
\RequirePackage{minted} % 语法高亮
\RequirePackage{fvextra}  % 扩展 minted 的分页功能

% 使用 \setminted 设置全局参数
\newcommand{\uSetMinted}{
\setminted{
    autogobble=true,         % 自动去除多余空白行
    bgcolor=black!5,         % 设置背景颜色
    fontfamily=tt,           % 字体：默认tt，等宽字体；rm，衬线字体；sf，无衬线字体    
    fontsize=\normalsize,    % 设置字体大小    
    frame=single,            % 设置边框类型
    framesep=5pt,            % 设置边框和代码的间距
    highlightcolor=yellow,   % 高亮颜色
    linenos=true,            % 显示行号
    numberblanklines=true,   % 空行是否显示行号    
    numbersep=5pt,           % 设置行号和代码的间距
    showspaces=false,        % 是否显示空格  
    style=xcode,             % 选择语法高亮风格
    tabsize=2,               % 设置Tab大小    
    xleftmargin=24pt,        % 设置左侧缩进
    xrightmargin=24pt,       % 设置右侧缩进     
  breaklines=true,     % 允许代码行内换行
  breakanywhere=true,  % 允许在任意位置分页（包括单词中间）
  breakautoindent=true,% 分页后保持缩进
  breaksymbolleft=,    % 分页符左侧标记（默认空）
  breaksymbolright=,   % 分页符右侧标记（默认空）
}
}

\newcommand{\uMintedFrame}[4][]{
  \begin{frame}[t]{#4}
  \inputminted[#1]{#2}{#3}
  \end{frame}
}

% 定义自动包裹 frame 的命令
\newcommand{\uMinted}[4][]{%
  \ifbool{inbeamer}{%
    \begin{frame}[t]{#4}% 第 4 个参数作为标题
      \inputminted[#1]{#2}{#3}%
    \end{frame}%
  }{%
  	\textbf{{#4}:}\\
	\inputminted[#1]{#2}{#3}%
  }%
}

% 全局设置
\uSetMinted